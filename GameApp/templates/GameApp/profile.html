{% extends 'base.html' %}
{% block title %}Perfil de {{ user.username }}{% endblock %}
{% load static %}

{% block content %}
<div class="card shadow-sm p-4">
    <h2 class="mb-4 d-flex align-items-center gap-2">
        <i class="bi bi-person-circle"></i> Meu Perfil
    </h2>

    <div class="row">
        <div class="col-md-4 text-center">
            {% if user.profile.avatar %}
            <img src="{{ user.profile.avatar.url }}" class="img-fluid rounded-circle mb-3" style="max-width: 150px;">
            {% else %}
            <i class="bi bi-person-circle display-1 text-secondary"></i>
            {% endif %}
        </div>
        <div class="col-md-8">
            <p><strong>Usuário:</strong> {{ user.username }}</p>
            <p><strong>Email:</strong> {{ user.email }}</p>
            <p><strong>Bio:</strong> {{ user.profile.bio|default:"Não preenchido" }}</p>
            <p><strong>Data de Nascimento:</strong> {{ user.profile.nascimento|date:"d/m/Y"|default:"Não preenchido" }}
            </p>

            <a href="{% url 'edit_profile' %}" class="btn btn-dark mt-2">
                <i class="bi bi-pencil-square"></i> Editar Perfil
            </a>
        </div>
    </div>

    <hr>
    <h5 class="mt-4 mb-3"><i class="bi bi-envelope-fill"></i> Mensagens</h5>
    <div class="d-flex flex-column flex-md-row gap-2">
        <a href="{% url 'enviar_mensagem' %}" class="btn btn-outline-dark">
            <i class="bi bi-plus-circle-fill"></i> Nova Mensagem
        </a>
        <a href="{% url 'caixa_entrada' %}" class="btn btn-outline-dark">
            <i class="bi bi-inbox-fill"></i> Caixa de Entrada
        </a>
        <a href="{% url 'caixa_saida' %}" class="btn btn-outline-dark">
            <i class="bi bi-send-fill"></i> Enviadas
        </a>
    </div>
</div>
{% endblock %}